buildscript { repositories { mavenCentral() } }


apply plugin: 'groovy'

repositories {
    mavenCentral()
    maven { url "http://repo.jenkins-ci.org/releases/" }
}

configurations { ivy }

dependencies {
    // https://mvnrepository.com/artifact/org.eclipse.hudson/hudson-core
    compile group: 'org.eclipse.hudson', name: 'hudson-core', version: '3.2.0'
    compile 'org.codehaus.groovy:groovy-all:2.4.10'
    compile 'org.jenkins-ci.plugins.workflow:workflow-cps:2.38'
    compile files('libs/jenkins-library-32e20a72936616b4aebeb5aed5513fbe6102e99d.jar') //FIXME Only for running the tests, find better option to do this
    ivy 'org.apache.ivy:ivy:2.4.0'
    compile 'org.apache.ivy:ivy:2.4.0'
    testCompile 'junit:junit:4.12'
}

sourceSets {
    main {
        groovy { srcDirs = ['vars/', 'src/']}
    }

    test {
        groovy { srcDirs = ['test/']}
    }
}

tasks.withType(GroovyCompile) { groovyClasspath += configurations.ivy }
